(function(b){var a=function(d,c){this.$el=d;this.options=c;this.$stuffWrap=this.$el.find(".ds-stuff-wrap");this.$thumbWrap=this.$el.find(".ds-thumb-wrap");this.$activeStuff=this.$stuffWrap.find(".ds-stuff").eq(0);this.$activeThumb=this.$thumbWrap.find(".ds-thumb").eq(0);this.ready=true;this.paused=false;this.init();this.listen()};a.prototype={init:function(){var c=this;c.enableStuff(c.$activeStuff);c.enableThumb(c.$activeThumb);setInterval(function(){if(!c.paused){if(c.$activeThumb.next().length>0){c.show(c.$activeThumb.next())}else{c.show(c.$thumbWrap.find(".ds-thumb").eq(0))}}},5000)},listen:function(){var c=this;c.$el.find(".ds-thumb").on("click",function(d){c.show(b(this));d.preventDefault()});c.$el.on("mouseenter",function(){c.paused=true});c.$el.on("mouseleave",function(){c.paused=false})},show:function(g){var d=this,e="photo"+g.data("id"),c=d.$activeStuff,f=d.$el.find("#"+e);if(d.ready===false||c.attr("id")===e){return}d.ready=false;d.disableThumb(d.$activeThumb);d.enableThumb(g);d.disableStuff(d.$activeStuff);d.enableStuff(f);f.fadeIn(200,function(){c.fadeOut(1);c.find(".text-container").fadeOut(1);f.find(".text-container").effect("slide",{mode:"show",easing:"easeOutBounce"},1500);d.ready=true})},enableThumb:function(c){c.addClass("active");this.$activeThumb=c;return c},disableThumb:function(c){c.removeClass("active");return c},enableStuff:function(c){c.addClass("active").css("z-index",999);this.$activeStuff=c;return c},disableStuff:function(c){c.removeClass("active").css("z-index",9);return c}};b.fn.slider=function(c){var d=new a(this,c)}})(jQuery);(function(c,b,a){var d={init:function(g,f){var e=this;e.$el=c(g);e.options=c.extend({},c.fn.msicarousel.options,f);e.$ul=e.$el.find("ul");e.ulChildrenLength=e.$ul.children("li").length;e.ready=true;e.paused=false;e.i=1;e.position=e.options.axis==="x"?"left":"top";if(e.options.axis==="x"){e.liDimension=e.$ul.children("li").first().outerWidth(true);e.$ul.css("width",e.liDimension*e.ulChildrenLength);if(e.options.infinite){e.$ul.css(e.position,-e.liDimension)}}else{e.liDimension=e.$ul.children("li").first().outerHeight(true);e.$ul.css("height",e.liDimension*e.ulChildrenLength);if(e.options.infinite){e.$ul.css(e.position,-e.liDimension)}}e.l=e.ulChildrenLength-Math.ceil(e.$ul.closest("div").width()/e.liDimension)+1;if(e.l<1){e.l=1}if(e.options.manualAdvance===false){setInterval(function(){if(!e.options.pauseOnHover||!e.paused){if(e.options.infinite===false){e.slide("next")}else{e.slideInfinitely("next")}}},e.options.pauseTime)}e.listen()},listen:function(){var e=this;e.$el.on("click",".control",function(g){var f=c(this).hasClass("control-next")?"next":"prev";if(e.options.infinite===false){e.slide(f)}else{e.slideInfinitely(f)}g.preventDefault()});e.$el.on("mouseenter",function(){e.paused=true});e.$el.on("mouseleave",function(){e.paused=false})},slide:function(g){if(this.ready===false){return}this.ready=false;var e=this,f={};if(g==="next"){if(e.i===e.l){f[e.position]=0;e.i=1}else{f[e.position]="-"+e.liDimension*e.i;e.i++}}else{if(e.i===1){e.i=e.l;f[e.position]="-"+e.liDimension*(e.l-1)}else{e.i--;f[e.position]="-"+e.liDimension*(e.i-1)}}e.$ul.animate(f,function(){e.ready=true;if(g==="next"&&typeof e.options.afterNext==="function"){e.options.afterNext()}if(g==="prev"&&typeof e.options.afterPrev==="function"){e.options.afterPrev()}})},slideInfinitely:function(i){if(this.ready===false){return}this.ready=false;var f=this,h=f.$ul.children("li").first(),e=f.$ul.children("li").last(),g={};if(i==="next"){g[f.position]="-"+f.liDimension*2;f.$ul.animate(g,function(){h.insertAfter(e);f.$ul.css(f.position,-f.liDimension);f.ready=true;if(i==="next"&&typeof f.options.afterNext==="function"){f.options.afterNext()}})}else{g[f.position]=0;f.$ul.animate(g,function(){e.insertBefore(h);f.$ul.css(f.position,-f.liDimension);f.ready=true;if(i==="prev"&&typeof f.options.afterPrev==="function"){f.options.afterPrev()}})}}};c.fn.msicarousel=function(e){return this.each(function(){var f=Object.create(d);f.init(this,e)})};c.fn.msicarousel.options={infinite:false,pauseTime:3000,pauseOnHover:true,axis:"x",manualAdvance:false,afterNext:function(){},afterPrev:function(){}}})(jQuery,window,document);
